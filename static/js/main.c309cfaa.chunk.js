(this["webpackJsonpself-made-questions"]=this["webpackJsonpself-made-questions"]||[]).push([[0],{42:function(e,t,a){e.exports=a(71)},47:function(e,t,a){},68:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(27),c=a.n(l),i=(a(47),a(5)),o=a(6),r=a(7),u=a(8),m=a(22),h=a(14),d=a(19),v=a.n(d),p=a(3),E=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={flg:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"contents content",id:this.props.index},this.question(this.props.contents,this.props.index),this.choices(this.props.contents.choices),this.answer(this.props.contents,this.props.index))}},{key:"question",value:function(e,t){var a=s.a.createElement("div",{className:"question"},s.a.createElement("p",null,s.a.createElement("strong",null,"\u554f\u984c",t+1," (",e.unit,")")),s.a.createElement("p",null,e.question),""===e.code||void 0===e.code||null===e.code?s.a.createElement("span",null):s.a.createElement("div",{className:"codebox"},s.a.createElement("p",null,e.code)));return a}},{key:"choices",value:function(e){var t=e.map((function(e,t){return s.a.createElement("li",{key:t},t+1,": ",e)})),a=s.a.createElement("div",{className:"choices"},s.a.createElement("ul",null,t));return a}},{key:"comment",value:function(e){var t=e.map((function(e,t){return s.a.createElement("span",{key:t},0!==t&&s.a.createElement("br",null),e)}));return s.a.createElement("div",{className:"commentList"},t)}},{key:"answer",value:function(e,t){var a=this,n=this.state.flg,l=s.a.createElement("div",{className:"answer"},s.a.createElement("button",{className:"button is-info",onClick:function(){a.openAnswer()}},"\u56de\u7b54"),n&&s.a.createElement("div",{className:"commentary"},s.a.createElement("p",null,"\u7b54\u3048\uff1a ",e.answer),s.a.createElement("p",null,"\u89e3\u8aac\uff1a",s.a.createElement("br",null),this.comment(e.comment)),s.a.createElement("p",null,e.url)));return l}},{key:"openAnswer",value:function(){var e=this.state.flg;this.setState({flg:!e})}}]),a}(s.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={json:[]},e.getFireData(),e.handleJsonChange=e.handleJsonChange.bind(Object(p.a)(e)),e}return Object(o.a)(a,[{key:"getFireData",value:function(){var e=v.a.database().ref("contentslist"),t=this;e.orderByKey().on("value",(function(e){t.setState({json:e.val()})}))}},{key:"handleJsonChange",value:function(e){var t=this.state.json.slice();t.push(e),this.setState({json:t})}},{key:"contentsList",value:function(){var e=[],t=0;for(var a in this.state.json){var n=this.state.json[a];e.push(s.a.createElement(E,{key:a,contents:n,index:t++}))}return e}},{key:"render",value:function(){return 0===this.state.json.length&&this.getFireData(),s.a.createElement("div",{className:"contentsList"},0===this.state.json.length||null==this.state.json?s.a.createElement("p",null,"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"):this.contentsList())}}]),a}(s.a.Component),b=a(21),j=a(20),C=a.n(j),k=(a(33),a(38)),y=a.n(k),g=a(39),O=a.n(g),N=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).choicesChengeHandler=n.choicesChengeHandler.bind(Object(p.a)(n)),n.deleteChoiceHandler=n.deleteChoiceHandler.bind(Object(p.a)(n)),n.addFireData=n.addFireData.bind(Object(p.a)(n)),n.editFireData=n.editFireData.bind(Object(p.a)(n)),n.state={unit:"Java",question:"",code:[],choices:["","","","",""],answer:1,comment:[],url:"",json:[],editFlg:"false"},n}return Object(o.a)(a,[{key:"choicesChengeHandler",value:function(e,t){var a=this.state.choices.slice();a[e]=t,this.setState({choices:a})}},{key:"addChoices",value:function(){var e=this.state.choices.slice();e.push(""),this.setState({choices:e})}},{key:"deleteChoiceHandler",value:function(e){var t=this.state.choices.slice();t=[].concat(Object(b.a)(t.slice(0,e)),Object(b.a)(t.slice(e+1))),this.setState({choices:t})}},{key:"createAnswer",value:function(){var e=this,t=this.state.choices.map((function(e,t){return s.a.createElement("option",{key:t,value:t+1},t+1)}));return s.a.createElement("select",{name:"answer",value:this.state.answer,onChange:function(t){return e.setState({answer:t.target.value})}},t)}},{key:"codehandleChange",value:function(e){for(var t=e.target.value.split("\n").map((function(e){return e.replace(/[\d]+\s\|\t/,"")})),a="",n=0;n<t.length;n++)a+=("000"+(n+1)).slice(-3)+" |\t"+t[n],n!==t.length-1&&(a+="\n");this.setState({code:a})}},{key:"clear",value:function(){this.setState({unit:"Java",question:"",code:[],choices:["","","","",""],answer:1,comment:[],url:"",json:[]})}},{key:"addFireData",value:function(){var e=C.a.database().ref("contentslist"),t=this.state.comment;e.push({unit:this.state.unit||"",question:this.state.question||"",code:this.state.code||"",choices:this.state.choices||"",answer:this.state.answer||"",comment:t.split("\n")||"",url:this.state.url||""}),this.clear(),this.props.close(),alert("\u554f\u984c\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f")}},{key:"editFireData",value:function(){var e=this.props.id,t=C.a.database().ref("contentslist/"+e),a=this.state.comment;t.set({unit:this.state.unit||"",question:this.state.question||"",code:this.state.code||"",choices:this.state.choices||"",answer:this.state.answer||"",comment:a.split("\n")||"",url:this.state.url||""}),this.props.close(),alert("\u554f\u984c\u3092\u7de8\u96c6\u3057\u307e\u3057\u305f")}},{key:"deleteQuestion",value:function(){var e=this.props.id;C.a.database().ref("contentslist/"+e).remove(),this.props.close(),alert("\u554f\u984c\u3092\u524a\u9664\u3057\u307e\u3057\u305f")}},{key:"editCansel",value:function(){this.props.close()}},{key:"editHeader",value:function(){var e=this;return s.a.createElement("div",{className:"contentsHeader"},s.a.createElement("div",{className:"editButton"},s.a.createElement("button",{className:"button is-info",onClick:function(){e.addChoices()}},"\u9078\u629e\u80a2\u3092\u5897\u3084\u3059"),s.a.createElement("button",{className:"button is-info",onClick:function(){e.clear()}},"\u30af\u30ea\u30a2")),s.a.createElement("div",null,"-1"===this.props.id?s.a.createElement("button",{className:"button is-info",onClick:this.addFireData},"\u554f\u984c\u3092\u8ffd\u52a0\u3059\u308b"):s.a.createElement("div",null,s.a.createElement("button",{className:"button is-info",onClick:this.editFireData},"\u554f\u984c\u3092\u7de8\u96c6\u3059\u308b"),s.a.createElement("button",{className:"button is-info",onClick:function(){e.deleteQuestion()}},"\u554f\u984c\u3092\u524a\u9664\u3059\u308b"))))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.editHeader(),s.a.createElement("div",{className:"addQuestion"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u5358\u5143"),s.a.createElement("th",null,s.a.createElement("div",{className:"select"},s.a.createElement("select",{name:"unit",value:this.state.unit,onChange:function(t){return e.setState({unit:t.target.value})}},s.a.createElement("option",{value:"Java"},"Java"),s.a.createElement("option",{value:"Oracle"},"Oracle"),s.a.createElement("option",{value:"HTML/CSS"},"HTML/CSS"))))),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u554f\u984c\u6587",s.a.createElement("br",null),s.a.createElement("small",null,"(\u6539\u884c\u4e0d\u53ef)")),s.a.createElement("th",null,s.a.createElement("textarea",{className:"textarea",name:"question",value:this.state.question,onChange:function(t){return e.setState({question:t.target.value.replace(/\r?\n/g,"")})}}))),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u30b3\u30fc\u30c9",s.a.createElement("br",null),s.a.createElement("small",null,"(*1)")),s.a.createElement("th",null,s.a.createElement("textarea",{className:"textarea",name:"code",value:this.state.code,onChange:function(t){return e.codehandleChange(t)}}))),this.state.choices.map((function(t,a){return s.a.createElement(w,{key:a,index:a,choice:t,changeChoice:e.choicesChengeHandler,deleteChoice:e.deleteChoiceHandler})})),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u7b54\u3048"),s.a.createElement("th",null,s.a.createElement("div",{className:"select"},this.createAnswer()))),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u89e3\u8aac"),s.a.createElement("th",null,s.a.createElement("textarea",{className:"textarea",name:"comment",value:this.state.comment,onChange:function(t){return e.setState({comment:t.target.value})}}))),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"URL"),s.a.createElement("th",null,s.a.createElement("input",{className:"input",type:"text",name:"url",value:this.state.url,onChange:function(t){return e.setState({url:t.target.value})}})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.modalOpen?e.modalOpen&&t.editFlg?null:"-1"===e.id?{id:"-1",unit:"Java",question:"",code:[],choices:["","","","",""],answer:1,comment:[],url:"",editFlg:!0}:{id:e.contents.id,unit:e.contents.unit,question:e.contents.question,code:e.contents.code,choices:e.contents.choices,answer:e.contents.answer,comment:e.contents.comment.join("\n"),url:e.contents.url,editFlg:!0}:{id:"-1",unit:"Java",question:"",code:[],choices:["","","","",""],answer:1,comment:[],url:"",editFlg:!1}}}]),a}(s.a.Component);N.defaultProps={id:"-1",contents:"",editFlg:!1};var w=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeChoice=n.changeChoice.bind(Object(p.a)(n)),n.deleteChoice=n.deleteChoice.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"changeChoice",value:function(e){this.props.changeChoice(this.props.index,e.target.value)}},{key:"deleteChoice",value:function(e){this.props.deleteChoice(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},this.props.index+1),s.a.createElement("th",null,s.a.createElement("input",{className:"input",type:"text",value:this.props.choice,onChange:this.changeChoice}),s.a.createElement("button",{className:"button",onClick:function(){e.deleteChoice(e.props.index)}},"\u524a\u9664")))}}]),a}(s.a.Component),L=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeCheckbox=n.changeCheckbox.bind(Object(p.a)(n)),n.state={checked:!1},n}return Object(o.a)(a,[{key:"editQuestion",value:function(){this.props.returnId(this.props.index,this.props.contents)}},{key:"changeCheckbox",value:function(){var e=!this.state.checked;this.props.outputListControl(this.props.index,e),this.setState({checked:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"contents controlContents",id:this.props.index},s.a.createElement("div",{className:"controlCOntents_2"},s.a.createElement("div",null,s.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:function(){return e.changeCheckbox()}})),s.a.createElement("div",null,this.question(this.props.contents,this.props.index),this.choices(this.props.contents.choices),this.answer(this.props.contents,this.props.index))),s.a.createElement("div",null,s.a.createElement("button",{className:"button is-info",onClick:function(){e.editQuestion()}},"\u7de8\u96c6")))}},{key:"question",value:function(e,t){var a=s.a.createElement("div",{className:"question"},s.a.createElement("p",null,s.a.createElement("strong",null,"\u554f\u984cID:",t," (",e.unit,")")),s.a.createElement("p",null,e.question),""===e.code||void 0===e.code||null===e.code?s.a.createElement("span",null):s.a.createElement("div",{className:"codebox"},s.a.createElement("p",null,e.code)));return a}},{key:"choices",value:function(e){var t=e.map((function(e,t){return s.a.createElement("li",{key:t},t+1,": ",e)})),a=s.a.createElement("div",{className:"choices"},s.a.createElement("ul",null,t));return a}},{key:"comment",value:function(e){var t=e.map((function(e,t){return s.a.createElement("span",{key:t},0!==t&&s.a.createElement("br",null),e)}));return s.a.createElement("div",{className:"commentList"},t)}},{key:"answer",value:function(e,t){var a=s.a.createElement("div",{className:"answer"},s.a.createElement("div",{className:"commentary"},s.a.createElement("p",null,"\u7b54\u3048\uff1a ",e.answer),s.a.createElement("p",null,"\u89e3\u8aac\uff1a",s.a.createElement("br",null),this.comment(e.comment)),s.a.createElement("p",null,e.url)));return a}}]),a}(s.a.Component);y.a.setAppElement("#root");var q=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(x,null))}}]),a}(s.a.Component),x=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).outputJsonFile=e.outputJsonFile.bind(Object(p.a)(e)),e.outputListControler=e.outputListControler.bind(Object(p.a)(e)),e.searchControler=e.searchControler.bind(Object(p.a)(e)),e.editContentsHandler=e.editContentsHandler.bind(Object(p.a)(e)),e.closeModal=e.closeModal.bind(Object(p.a)(e)),e.state={json:[],outputList:[],unit:"All",editId:"-1",editContents:{},modalIsOpen:!1},e.getFireData(),e}return Object(o.a)(a,[{key:"getFireData",value:function(){var e=C.a.database().ref("contentslist"),t=this;e.orderByKey().on("value",(function(e){t.setState({json:e.val()})}))}},{key:"contentsList",value:function(){var e=[];for(var t in this.state.json){var a=this.state.json[t];"All"!==this.state.unit&&a.unit!==this.state.unit||e.push(s.a.createElement(L,{key:t,contents:a,index:t,outputListControl:this.outputListControler,returnId:this.editContentsHandler}))}return e}},{key:"editContentsHandler",value:function(e,t){this.setState({editId:e,editContents:t}),this.openModal()}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"outputJsonFile",value:function(){if(0!==this.state.outputList.length){var e={};for(var t in this.state.outputList.slice())e[t]=this.state.json[t];var a=new Blob([this.state.outputList.join(",")],{type:"text/csv"}),n=window.URL.createObjectURL(a),s=document.createElement("a");document.body.appendChild(s),s.href=n,s.setAttribute("download","finename.csv"),s.click(),document.body.removeChild(s)}else alert("\u9805\u76ee\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")}},{key:"outputListControler",value:function(e,t){console.log(e+" : "+t);var a=this.state.outputList.slice();if(t)a.push(e);else{var n=a.indexOf(e);if(-1===n)return;a=[].concat(Object(b.a)(a.slice(0,n)),Object(b.a)(a.slice(n+1)))}this.setState({outputList:a})}},{key:"searchControler",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"select"},s.a.createElement("select",{name:"unit",value:this.state.unit,onChange:function(t){return e.setState({unit:t.target.value,outputList:[]})}},s.a.createElement("option",{value:"All"}," All "),s.a.createElement("option",{value:"Java"}," Java "),s.a.createElement("option",{value:"Oracle"}," Oracle "),s.a.createElement("option",{value:"HTML/CSS"}," HTML / CSS "))))}},{key:"controlHeader",value:function(){var e=this;return s.a.createElement("div",{className:"contentsHeader"},s.a.createElement("div",null,this.searchControler()),s.a.createElement("div",null,s.a.createElement("button",{className:"button is-info",onClick:function(){e.editContentsHandler("-1")}},"\u65b0\u3057\u3044\u554f\u984c"),s.a.createElement("button",{className:"button is-info",onClick:function(){e.outputJsonFile()}},"\u554f\u984c\u3092\u51fa\u529b\u3059\u308b")))}},{key:"render",value:function(){0===this.state.json.length&&this.getFireData();var e=O()({modal:!0,"is-active":this.state.modalIsOpen});return s.a.createElement("div",null,this.controlHeader(),s.a.createElement("div",{className:"contentsList"},0===this.state.json.length||null==this.state.json?s.a.createElement("p",null," \u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093 "):this.contentsList()),s.a.createElement("div",{className:e,id:this.state.editId},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-content"},s.a.createElement("span",{className:"delete is-large",onClick:this.closeModal}," "),s.a.createElement(N,{id:this.state.editId,contents:this.state.editContents,modalOpen:this.state.modalIsOpen,close:this.closeModal}))))}}]),a}(s.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getFile=e.getFile.bind(Object(p.a)(e)),e.state={json:[]},e}return Object(o.a)(a,[{key:"contentsList",value:function(){var e=[],t=0;for(var a in this.state.json){var n=this.state.json[a];e.push(s.a.createElement(E,{key:a,contents:n,index:t++}))}return e}},{key:"selectedHeader",value:function(){return s.a.createElement("div",{className:"contentsHeader"},s.a.createElement("div",{className:"file is-info"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"file",onChange:this.getFile}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-label"},"\u30d5\u30a1\u30a4\u30eb\u9078\u629e")))))}},{key:"render",value:function(){return s.a.createElement("div",null,this.selectedHeader(),s.a.createElement("div",{className:"contentsList"},0===this.state.json.length||null==this.state.json?s.a.createElement("p",null):this.contentsList()))}},{key:"getFile",value:function(e){var t=this;if(0!==e.target.files.length){var a=new FileReader;a.readAsText(e.target.files[0]),a.addEventListener("load",(function(){var e=a.result.split(","),n=function(a){var n=e[a];v.a.database().ref("contentslist").orderByKey().equalTo(n).on("value",(function(e){var a=t.state.json.slice();a[n]=e.val()[n],t.setState({json:a})}))};for(var s in e)n(s)}))}}}]),a}(s.a.Component),F=(a(68),"/onthesnow-self-made-questions"),H=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(m.a,null,s.a.createElement(D,null),s.a.createElement("div",{className:"body"},s.a.createElement(h.c,null,s.a.createElement(h.a,{path:F,exact:!0,component:S}),s.a.createElement(h.a,{path:F+"/all",component:f}),s.a.createElement(h.a,{path:F+"/control",component:q}))),s.a.createElement(I,null)))}}]),a}(s.a.Component),D=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"header hero is-info is-bold"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container header"},s.a.createElement(m.b,{to:F},s.a.createElement("h1",{className:"title"},"\u81ea\u4f5c\u554f\u984c\u96c6")),s.a.createElement("div",null,s.a.createElement(m.b,{to:F+"/control"},s.a.createElement("button",{className:"button is-white"},"control")),s.a.createElement(m.b,{to:F},s.a.createElement("button",{className:"button is-white"},"list")),s.a.createElement(m.b,{to:F+"/all"},s.a.createElement("button",{className:"button is-white"},"all"))))))}}]),a}(s.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"content has-text-centered"},"2020 \xa9snow quartz"))}}]),a}(s.a.Component);v.a.initializeApp({apiKey:"AIzaSyDOvPrCTOH1q6xwhvQlQpDX4BCgNx6JHD4",authDomain:"self-made-questions.firebaseapp.com",databaseURL:"https://self-made-questions.firebaseio.com",projectId:"self-made-questions",storageBucket:"self-made-questions.appspot.com",messagingSenderId:"996121708938",appId:"1:996121708938:web:a75824951877640f6e6073",measurementId:"G-38GKMPYRY3"});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.c309cfaa.chunk.js.map