(this["webpackJsonpself-made-questions"]=this["webpackJsonpself-made-questions"]||[]).push([[0],{41:function(e,t,n){e.exports=n(70)},46:function(e,t,n){},67:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(27),c=n.n(i),l=(n(46),n(5)),o=n(6),r=n(7),u=n(8),h=n(22),m=n(14),d=n(19),p=n.n(d),v=n(3),f=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={flg:!1},a}return Object(o.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"contents content",id:this.props.index},this.question(this.props.contents,this.props.index),this.choices(this.props.contents.choices),this.answer(this.props.contents,this.props.index))}},{key:"question",value:function(e,t){var n=s.a.createElement("div",{className:"question"},s.a.createElement("p",null,s.a.createElement("strong",null,"\u554f\u984c",t+1," (",e.unit,")")),s.a.createElement("p",null,e.question));return n}},{key:"choices",value:function(e){var t=e.map((function(e,t){return s.a.createElement("li",{key:t},t+1,": ",e)})),n=s.a.createElement("div",{className:"choices"},s.a.createElement("ul",null,t));return n}},{key:"comment",value:function(e){var t=e.map((function(e,t){return s.a.createElement("span",{key:t},0!==t&&s.a.createElement("br",null),e)}));return s.a.createElement("span",null,t)}},{key:"answer",value:function(e,t){var n=this,a=this.state.flg,i=s.a.createElement("div",{className:"answer"},s.a.createElement("button",{className:"button is-info",onClick:function(){n.openAnswer()}},"\u56de\u7b54"),a&&s.a.createElement("div",{className:"commentary"},s.a.createElement("p",null,"\u7b54\u3048\uff1a ",e.answer),s.a.createElement("p",null,"\u89e3\u8aac\uff1a",s.a.createElement("br",null),this.comment(e.comment)),s.a.createElement("p",null,e.url)));return i}},{key:"openAnswer",value:function(){var e=this.state.flg;this.setState({flg:!e})}}]),n}(s.a.Component),b=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={json:[]},e.getFireData(),e.handleJsonChange=e.handleJsonChange.bind(Object(v.a)(e)),e}return Object(o.a)(n,[{key:"getFireData",value:function(){var e=p.a.database().ref("contentslist"),t=this;e.orderByKey().on("value",(function(e){t.setState({json:e.val()})}))}},{key:"handleJsonChange",value:function(e){var t=this.state.json.slice();t.push(e),this.setState({json:t})}},{key:"contentsList",value:function(){var e=[],t=0;for(var n in this.state.json){var a=this.state.json[n];e.push(s.a.createElement(f,{key:n,contents:a,index:t++}))}return e}},{key:"render",value:function(){return 0===this.state.json.length&&this.getFireData(),s.a.createElement("div",{className:"contentsList"},0===this.state.json.length||null==this.state.json?s.a.createElement("p",null,"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"):this.contentsList())}}]),n}(s.a.Component),E=n(21),j=n(20),C=n.n(j),k=(n(34),n(28)),y=n.n(k),g=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState({unit:e.target.unit,question:e.target.question,answer:e.target.answer,comment:e.target.answer})},a.choicesChengeHandler=a.choicesChengeHandler.bind(Object(v.a)(a)),a.deleteChoiceHandler=a.deleteChoiceHandler.bind(Object(v.a)(a)),a.handleChange=a.handleChange.bind(Object(v.a)(a)),a.addFireData=a.addFireData.bind(Object(v.a)(a)),a.editFireData=a.editFireData.bind(Object(v.a)(a)),a.state={id:-1,unit:"Java",question:"",choices:["","","","",""],answer:1,comment:[],url:"",json:[]},a}return Object(o.a)(n,[{key:"choicesChengeHandler",value:function(e,t){var n=this.state.choices.slice();n[e]=t,this.setState({choices:n})}},{key:"addChoices",value:function(){var e=this.state.choices.slice();e.push(""),this.setState({choices:e})}},{key:"deleteChoiceHandler",value:function(e){var t=this.state.choices.slice();t=[].concat(Object(E.a)(t.slice(0,e)),Object(E.a)(t.slice(e+1))),this.setState({choices:t})}},{key:"createAnswer",value:function(){var e=this,t=this.state.choices.map((function(e,t){return s.a.createElement("option",{key:t,value:t+1},t+1)}));return s.a.createElement("select",{name:"answer",value:this.state.answer,onChange:function(t){return e.setState({answer:t.target.value})}},t)}},{key:"clear",value:function(){this.setState({unit:"Java",question:"",choices:["","","","",""],answer:1,comment:[],url:"",json:[]})}},{key:"addFireData",value:function(){var e=(new Date).getTime(),t=C.a.database().ref("contentslist"),n=this.state.comment;t.push({id:e,unit:this.state.unit||"",question:this.state.question||"",choices:this.state.choices||"",answer:this.state.answer||"",comment:n.split("\n")||"",url:this.state.url||""}),this.clear()}},{key:"editFireData",value:function(){var e=this.props.id,t=C.a.database().ref("contentslist/"+e),n=this.state.comment;t.set({unit:this.state.unit||"",question:this.state.question||"",choices:this.state.choices||"",answer:this.state.answer||"",comment:n.split("\n")||"",url:this.state.url||""})}},{key:"deleteQuestion",value:function(){var e=this.props.id;C.a.database().ref("contentslist/"+e).remove()}},{key:"editCansel",value:function(){this.props.close()}},{key:"editHeader",value:function(){var e=this;return s.a.createElement("div",{className:"contentsHeader"},s.a.createElement("div",{className:"editButton"},s.a.createElement("button",{className:"button is-info",onClick:function(){e.addChoices()}},"\u9078\u629e\u80a2\u3092\u5897\u3084\u3059"),s.a.createElement("button",{className:"button is-info",onClick:function(){e.clear()}},"\u30af\u30ea\u30a2")),s.a.createElement("div",null,"-1"===this.props.id?s.a.createElement("button",{className:"button is-info",onClick:this.addFireData},"\u554f\u984c\u3092\u8ffd\u52a0\u3059\u308b"):s.a.createElement("div",null,s.a.createElement("button",{className:"button is-info",onClick:this.editFireData},"\u554f\u984c\u3092\u7de8\u96c6\u3059\u308b"),s.a.createElement("button",{className:"button is-info",onClick:function(){e.deleteQuestion()}},"\u554f\u984c\u3092\u524a\u9664\u3059\u308b"))))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.editHeader(),s.a.createElement("div",{className:"addQuestion"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u5358\u5143"),s.a.createElement("th",null,s.a.createElement("div",{className:"select"},s.a.createElement("select",{name:"unit",value:this.state.unit,onChange:function(t){return e.setState({unit:t.target.value})}},s.a.createElement("option",{value:"Java"},"Java"),s.a.createElement("option",{value:"Oracle"},"Oracle"),s.a.createElement("option",{value:"HTML/CSS"},"HTML/CSS"))))),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u554f\u984c\u6587"),s.a.createElement("th",null,s.a.createElement("textarea",{className:"textarea",name:"question",value:this.state.question,onChange:function(t){return e.setState({question:t.target.value.replace(/\r?\n/g,"")})}}))),this.state.choices.map((function(t,n){return s.a.createElement(O,{key:n,index:n,choice:t,changeChoice:e.choicesChengeHandler,deleteChoice:e.deleteChoiceHandler})})),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u7b54\u3048"),s.a.createElement("th",null,s.a.createElement("div",{className:"select"},this.createAnswer()))),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"\u89e3\u8aac"),s.a.createElement("th",null,s.a.createElement("textarea",{className:"textarea",name:"comment",value:this.state.comment,onChange:function(t){return e.setState({comment:t.target.value})}}))),s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},"URL"),s.a.createElement("th",null,s.a.createElement("input",{className:"input",type:"text",name:"url",value:this.state.url,onChange:function(t){return e.setState({url:t.target.value})}})))))))}},{key:"componentDidMount",value:function(){"-1"!==this.props.id&&this.setState({id:this.props.contents.id,unit:this.props.contents.unit,question:this.props.contents.question,choices:this.props.contents.choices,answer:this.props.contents.answer,comment:this.props.contents.comment.join("\n"),url:this.props.contents.url})}}]),n}(s.a.Component);g.defaultProps={id:"-1",contents:{}};var O=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).changeChoice=a.changeChoice.bind(Object(v.a)(a)),a.deleteChoice=a.deleteChoice.bind(Object(v.a)(a)),a}return Object(o.a)(n,[{key:"changeChoice",value:function(e){this.props.changeChoice(this.props.index,e.target.value)}},{key:"deleteChoice",value:function(e){this.props.deleteChoice(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("tr",null,s.a.createElement("th",{className:"questionLabel"},this.props.index+1),s.a.createElement("th",null,s.a.createElement("input",{className:"input",type:"text",value:this.props.choice,onChange:this.changeChoice}),s.a.createElement("button",{className:"button",onClick:function(){e.deleteChoice(e.props.index)}},"\u524a\u9664")))}}]),n}(s.a.Component),N=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).changeCheckbox=a.changeCheckbox.bind(Object(v.a)(a)),a.state={checked:!1},a}return Object(o.a)(n,[{key:"editQuestion",value:function(){this.props.returnId(this.props.index,this.props.contents)}},{key:"changeCheckbox",value:function(){var e=!this.state.checked;this.props.outputListControl(this.props.index,e),this.setState({checked:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"contents content",id:this.props.index},s.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:function(){return e.changeCheckbox()}}),this.question(this.props.contents,this.props.index),this.choices(this.props.contents.choices),this.answer(this.props.contents,this.props.index),s.a.createElement("button",{className:"button is-info",onClick:function(){e.editQuestion()}},"\u7de8\u96c6"))}},{key:"question",value:function(e,t){var n=s.a.createElement("div",{className:"question"},s.a.createElement("p",null,s.a.createElement("strong",null,"\u554f\u984cID:",t," (",e.unit,")")),s.a.createElement("p",null,e.question));return n}},{key:"choices",value:function(e){var t=e.map((function(e,t){return s.a.createElement("li",{key:t},t+1,": ",e)})),n=s.a.createElement("div",{className:"choices"},s.a.createElement("ul",null,t));return n}},{key:"comment",value:function(e){var t=e.map((function(e,t){return s.a.createElement("span",{key:t},0!==t&&s.a.createElement("br",null),e)}));return s.a.createElement("span",null,t)}},{key:"answer",value:function(e,t){var n=s.a.createElement("div",{className:"answer"},s.a.createElement("div",{className:"commentary"},s.a.createElement("p",null,"\u7b54\u3048\uff1a ",e.answer),s.a.createElement("p",null,"\u89e3\u8aac\uff1a",s.a.createElement("br",null),this.comment(e.comment)),s.a.createElement("p",null,e.url)));return n}}]),n}(s.a.Component);y.a.setAppElement("#root");var w=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(x,null))}}]),n}(s.a.Component),x=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).outputJsonFile=e.outputJsonFile.bind(Object(v.a)(e)),e.outputListControler=e.outputListControler.bind(Object(v.a)(e)),e.searchControler=e.searchControler.bind(Object(v.a)(e)),e.editContentsHandler=e.editContentsHandler.bind(Object(v.a)(e)),e.closeModal=e.closeModal.bind(Object(v.a)(e)),e.state={json:[],outputList:[],unit:"All",editId:"-1",editContents:{},modalIsOpen:!1},e.getFireData(),e}return Object(o.a)(n,[{key:"getFireData",value:function(){var e=C.a.database().ref("contentslist"),t=this;e.orderByKey().on("value",(function(e){t.setState({json:e.val()})}))}},{key:"contentsList",value:function(){var e=[];for(var t in this.state.json){var n=this.state.json[t];"All"!==this.state.unit&&n.unit!==this.state.unit||e.push(s.a.createElement(N,{key:t,contents:n,index:t,outputListControl:this.outputListControler,returnId:this.editContentsHandler}))}return e}},{key:"editContentsHandler",value:function(e,t){this.setState({editId:e,editContents:t}),this.openModal()}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"outputJsonFile",value:function(){if(0!==this.state.outputList.length){var e={};for(var t in this.state.outputList.slice())e[t]=this.state.json[t];var n=new Blob([this.state.outputList.join(",")],{type:"text/csv"}),a=window.URL.createObjectURL(n),s=document.createElement("a");document.body.appendChild(s),s.href=a,s.setAttribute("download","finename.csv"),s.click(),document.body.removeChild(s)}else alert("\u9805\u76ee\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044")}},{key:"outputListControler",value:function(e,t){console.log(e+" : "+t);var n=this.state.outputList.slice();if(t)n.push(e);else{var a=n.indexOf(e);if(-1===a)return;n=[].concat(Object(E.a)(n.slice(0,a)),Object(E.a)(n.slice(a+1)))}this.setState({outputList:n})}},{key:"searchControler",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"select"},s.a.createElement("select",{name:"unit",value:this.state.unit,onChange:function(t){return e.setState({unit:t.target.value,outputList:[]})}},s.a.createElement("option",{value:"All"}," All "),s.a.createElement("option",{value:"Java"}," Java "),s.a.createElement("option",{value:"Oracle"}," Oracle "),s.a.createElement("option",{value:"HTML/CSS"}," HTML / CSS "))))}},{key:"controlHeader",value:function(){var e=this;return s.a.createElement("div",{className:"contentsHeader"},s.a.createElement("div",null,this.searchControler()),s.a.createElement("div",null,s.a.createElement("button",{className:"button is-info",onClick:function(){e.editContentsHandler("-1")}},"\u65b0\u3057\u3044\u554f\u984c"),s.a.createElement("button",{className:"button is-info",onClick:function(){e.outputJsonFile()}},"\u554f\u984c\u3092\u51fa\u529b\u3059\u308b")))}},{key:"render",value:function(){return 0===this.state.json.length&&this.getFireData(),s.a.createElement("div",null," ",this.controlHeader(),s.a.createElement("div",{className:"contentsList"},0===this.state.json.length||null==this.state.json?s.a.createElement("p",null," \u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093 "):this.contentsList()),s.a.createElement(y.a,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal.bind(this),style:q,contentLabel:"edit question"},s.a.createElement("span",{className:"delete",onClick:this.closeModal}," "),s.a.createElement(g,{id:this.state.editId,contents:this.state.editContents})))}}]),n}(s.a.Component),q={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",height:"900px",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#c1e4e9",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px",zIndex:"-1"}},L=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).getFile=e.getFile.bind(Object(v.a)(e)),e.state={json:[]},e}return Object(o.a)(n,[{key:"contentsList",value:function(){var e=[],t=0;for(var n in this.state.json){var a=this.state.json[n];e.push(s.a.createElement(f,{key:n,contents:a,index:t++}))}return e}},{key:"selectedHeader",value:function(){return s.a.createElement("div",{className:"contentsHeader"},s.a.createElement("div",{className:"file is-info"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"file",onChange:this.getFile}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-label"},"\u30d5\u30a1\u30a4\u30eb\u9078\u629e")))))}},{key:"render",value:function(){return s.a.createElement("div",null,this.selectedHeader(),s.a.createElement("div",{className:"contentsList"},0===this.state.json.length||null==this.state.json?s.a.createElement("p",null):this.contentsList()))}},{key:"getFile",value:function(e){var t=this;if(0!==e.target.files.length){var n=new FileReader;n.readAsText(e.target.files[0]),n.addEventListener("load",(function(){var e=n.result.split(","),a=function(n){var a=e[n];p.a.database().ref("contentslist").orderByKey().equalTo(a).on("value",(function(e){var n=t.state.json.slice();n[a]=e.val()[a],t.setState({json:n})}))};for(var s in e)a(s)}))}}}]),n}(s.a.Component),S=(n(67),"/onthesnow-self-made-questions"),H=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(h.a,null,s.a.createElement(F,null),s.a.createElement("div",{className:"body"},s.a.createElement(m.c,null,s.a.createElement(m.a,{path:S,exact:!0,component:L}),s.a.createElement(m.a,{path:S+"/all",component:b}),s.a.createElement(m.a,{path:S+"/control",component:w}))),s.a.createElement(D,null)))}}]),n}(s.a.Component),F=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"header hero is-info is-bold"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container header"},s.a.createElement(h.b,{to:S},s.a.createElement("h1",{className:"title"},"\u81ea\u4f5c\u554f\u984c\u96c6")),s.a.createElement("div",null,s.a.createElement(h.b,{to:S+"/control"},s.a.createElement("button",{className:"button is-white"},"control")),s.a.createElement(h.b,{to:S},s.a.createElement("button",{className:"button is-white"},"list")),s.a.createElement(h.b,{to:S+"/all"},s.a.createElement("button",{className:"button is-white"},"all"))))))}}]),n}(s.a.Component),D=function(e){Object(u.a)(n,e);var t=Object(r.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"content has-text-centered"},"2020 \xa9snow quartz"))}}]),n}(s.a.Component);p.a.initializeApp({apiKey:"AIzaSyDOvPrCTOH1q6xwhvQlQpDX4BCgNx6JHD4",authDomain:"self-made-questions.firebaseapp.com",databaseURL:"https://self-made-questions.firebaseio.com",projectId:"self-made-questions",storageBucket:"self-made-questions.appspot.com",messagingSenderId:"996121708938",appId:"1:996121708938:web:a75824951877640f6e6073",measurementId:"G-38GKMPYRY3"});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.263eafd1.chunk.js.map